{"ast":null,"code":"import logo from'./logo.svg';import'./App.css';import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Files(){fetch(\"/getFiles\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify({\"token\":localStorage.getItem('token')})}).then(resp=>{return/*#__PURE__*/_jsx(\"div\",{class:\"files_wrapper\",children:/*#__PURE__*/_jsx(\"div\",{class:\"item\",children:\"resp[0][\\\"name\\\"]\"})});});}function login_confirm(){const login_input=document.querySelector(\".login\");const pwd_input=document.querySelector(\".pwd\");const login=login_input.value;const pwd=pwd_input.value;if(login===\"\"||pwd===\"\"){if(login_input.value===\"\"){login_input.style.color=\"red\";}if(pwd_input.value===\"\"){pwd_input.style.color=\"red\";}return;}login_input.style.color=\"black\";pwd_input.style.color=\"black\";fetch(\"login\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify({\"login\":login,\"password\":pwd})}).then(response=>{if(response[\"status\"]===\"ok\"){const bearer_token=response[\"token\"];localStorage.setItem('token',bearer_token);}});}function Login_form(){const[renderFiles,renderItems]=useState(false);return/*#__PURE__*/_jsxs(\"div\",{children:[!renderFiles&&/*#__PURE__*/_jsxs(\"div\",{className:\"login_wrapper\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0412\\u0445\\u043E\\u0434\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"input_wrapper\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u041B\\u043E\\u0433\\u0438\\u043D: \"}),/*#__PURE__*/_jsx(\"input\",{class:\"login\",placeholder:\"type login here\",type:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input_wrapper\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C: \"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"type password here\",class:\"pwd\",type:\"password\"})]})]}),/*#__PURE__*/_jsx(\"button\",{class:\"submit-btn\",onClick:()=>{login_confirm();renderItems(true);},children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]}),renderFiles&&/*#__PURE__*/_jsx(Files,{})]});}function Header(){return/*#__PURE__*/_jsx(\"div\",{class:\"header_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"item\",children:/*#__PURE__*/_jsx(\"p\",{children:\"data storage\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/about\",children:\"\\u043E \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0435\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"profile\"})})]})});}function App(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{class:\"main\",children:/*#__PURE__*/_jsx(Login_form,{})})]});}export default App;","map":{"version":3,"names":["logo","React","useState","jsx","_jsx","jsxs","_jsxs","Files","fetch","method","headers","body","JSON","stringify","localStorage","getItem","then","resp","class","children","login_confirm","login_input","document","querySelector","pwd_input","login","value","pwd","style","color","response","bearer_token","setItem","Login_form","renderFiles","renderItems","className","placeholder","type","onClick","Header","href","App"],"sources":["/home/user/Desktop/projects/data_storage/frontend/datastorage/src/App.js"],"sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport React, { useState } from 'react';\n\nfunction Files() {\n  fetch(\"/getFiles\", {\n    method: \"POST\",\n    headers: {\n      \"Content-type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"token\": localStorage.getItem('token')\n    })\n  }).then(resp =>{\n    return (\n      <div class=\"files_wrapper\">\n        <div class=\"item\">\n          resp[0][\"name\"]\n        </div>\n      </div>\n    )\n  })\n}\n\nfunction login_confirm() {\n  const login_input = document.querySelector(\".login\");\n  const pwd_input = document.querySelector(\".pwd\");\n\n  const login = login_input.value;\n  const pwd = pwd_input.value;\n\n  if (login === \"\" || pwd === \"\") {\n    if (login_input.value === \"\") {\n      login_input.style.color = \"red\";\n    }\n    if (pwd_input.value === \"\") {\n      pwd_input.style.color = \"red\";\n    }\n    return;\n  }\n\n  login_input.style.color = \"black\";\n  pwd_input.style.color = \"black\";\n\n  fetch(\"login\", {\n    method: \"POST\",\n    headers: {\n      \"Content-type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"login\": login,\n      \"password\": pwd\n    })\n  }).then(response => {\n    if (response[\"status\"] === \"ok\") {\n      const bearer_token = response[\"token\"];\n      localStorage.setItem('token', bearer_token);\n    }\n  })\n}\n\nfunction Login_form() {\n  const [renderFiles, renderItems] = useState(false);\n\n  return (\n    <div>\n      {!renderFiles && (\n        <div className=\"login_wrapper\">\n          <h3>Вход</h3>\n\n          <div class=\"inputs\">\n            <div class=\"input_wrapper\">\n              <p>Логин: </p>\n              <input\n                class=\"login\"\n                placeholder='type login here'\n                type=\"email\" />\n            </div>\n\n            <div class=\"input_wrapper\">\n              <p>Пароль: </p>\n              <input placeholder='type password here'\n                class=\"pwd\"\n                type=\"password\" />\n            </div>\n          </div>\n\n          <button class=\"submit-btn\" onClick={() => {\n            login_confirm();\n            renderItems(true);\n          }}>Войти</button>\n        </div>\n      )}\n      {renderFiles && <Files />}\n    </div>\n  )\n}\n\nfunction Header() {\n  return (\n    <div class=\"header_wrapper\">\n      <div class=\"header\">\n        <div class=\"item\">\n          <p>data storage</p>\n        </div>\n\n        <div class=\"item\">\n          <a href='/about'>о проекте</a>\n        </div>\n\n        <div class=\"item\">\n          <a href='/'>profile</a>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <div class=\"main\">\n        <Login_form />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,IAAI,KAAM,YAAY,CAC7B,MAAO,WAAW,CAClB,MAAO,CAAAC,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACfC,KAAK,CAAC,WAAW,CAAE,CACjBC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnB,OAAO,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CACvC,CAAC,CACH,CAAC,CAAC,CAACC,IAAI,CAACC,IAAI,EAAG,CACb,mBACEb,IAAA,QAAKc,KAAK,CAAC,eAAe,CAAAC,QAAA,cACxBf,IAAA,QAAKc,KAAK,CAAC,MAAM,CAAAC,QAAA,CAAC,mBAElB,CAAK,CAAC,CACH,CAAC,CAEV,CAAC,CAAC,CACJ,CAEA,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvB,KAAM,CAAAC,WAAW,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CACpD,KAAM,CAAAC,SAAS,CAAGF,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,CAEhD,KAAM,CAAAE,KAAK,CAAGJ,WAAW,CAACK,KAAK,CAC/B,KAAM,CAAAC,GAAG,CAAGH,SAAS,CAACE,KAAK,CAE3B,GAAID,KAAK,GAAK,EAAE,EAAIE,GAAG,GAAK,EAAE,CAAE,CAC9B,GAAIN,WAAW,CAACK,KAAK,GAAK,EAAE,CAAE,CAC5BL,WAAW,CAACO,KAAK,CAACC,KAAK,CAAG,KAAK,CACjC,CACA,GAAIL,SAAS,CAACE,KAAK,GAAK,EAAE,CAAE,CAC1BF,SAAS,CAACI,KAAK,CAACC,KAAK,CAAG,KAAK,CAC/B,CACA,OACF,CAEAR,WAAW,CAACO,KAAK,CAACC,KAAK,CAAG,OAAO,CACjCL,SAAS,CAACI,KAAK,CAACC,KAAK,CAAG,OAAO,CAE/BrB,KAAK,CAAC,OAAO,CAAE,CACbC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnB,OAAO,CAAEY,KAAK,CACd,UAAU,CAAEE,GACd,CAAC,CACH,CAAC,CAAC,CAACX,IAAI,CAACc,QAAQ,EAAI,CAClB,GAAIA,QAAQ,CAAC,QAAQ,CAAC,GAAK,IAAI,CAAE,CAC/B,KAAM,CAAAC,YAAY,CAAGD,QAAQ,CAAC,OAAO,CAAC,CACtChB,YAAY,CAACkB,OAAO,CAAC,OAAO,CAAED,YAAY,CAAC,CAC7C,CACF,CAAC,CAAC,CACJ,CAEA,QAAS,CAAAE,UAAUA,CAAA,CAAG,CACpB,KAAM,CAACC,WAAW,CAAEC,WAAW,CAAC,CAAGjC,QAAQ,CAAC,KAAK,CAAC,CAElD,mBACEI,KAAA,QAAAa,QAAA,EACG,CAACe,WAAW,eACX5B,KAAA,QAAK8B,SAAS,CAAC,eAAe,CAAAjB,QAAA,eAC5Bf,IAAA,OAAAe,QAAA,CAAI,0BAAI,CAAI,CAAC,cAEbb,KAAA,QAAKY,KAAK,CAAC,QAAQ,CAAAC,QAAA,eACjBb,KAAA,QAAKY,KAAK,CAAC,eAAe,CAAAC,QAAA,eACxBf,IAAA,MAAAe,QAAA,CAAG,kCAAO,CAAG,CAAC,cACdf,IAAA,UACEc,KAAK,CAAC,OAAO,CACbmB,WAAW,CAAC,iBAAiB,CAC7BC,IAAI,CAAC,OAAO,CAAE,CAAC,EACd,CAAC,cAENhC,KAAA,QAAKY,KAAK,CAAC,eAAe,CAAAC,QAAA,eACxBf,IAAA,MAAAe,QAAA,CAAG,wCAAQ,CAAG,CAAC,cACff,IAAA,UAAOiC,WAAW,CAAC,oBAAoB,CACrCnB,KAAK,CAAC,KAAK,CACXoB,IAAI,CAAC,UAAU,CAAE,CAAC,EACjB,CAAC,EACH,CAAC,cAENlC,IAAA,WAAQc,KAAK,CAAC,YAAY,CAACqB,OAAO,CAAEA,CAAA,GAAM,CACxCnB,aAAa,CAAC,CAAC,CACfe,WAAW,CAAC,IAAI,CAAC,CACnB,CAAE,CAAAhB,QAAA,CAAC,gCAAK,CAAQ,CAAC,EACd,CACN,CACAe,WAAW,eAAI9B,IAAA,CAACG,KAAK,GAAE,CAAC,EACtB,CAAC,CAEV,CAEA,QAAS,CAAAiC,MAAMA,CAAA,CAAG,CAChB,mBACEpC,IAAA,QAAKc,KAAK,CAAC,gBAAgB,CAAAC,QAAA,cACzBb,KAAA,QAAKY,KAAK,CAAC,QAAQ,CAAAC,QAAA,eACjBf,IAAA,QAAKc,KAAK,CAAC,MAAM,CAAAC,QAAA,cACff,IAAA,MAAAe,QAAA,CAAG,cAAY,CAAG,CAAC,CAChB,CAAC,cAENf,IAAA,QAAKc,KAAK,CAAC,MAAM,CAAAC,QAAA,cACff,IAAA,MAAGqC,IAAI,CAAC,QAAQ,CAAAtB,QAAA,CAAC,mDAAS,CAAG,CAAC,CAC3B,CAAC,cAENf,IAAA,QAAKc,KAAK,CAAC,MAAM,CAAAC,QAAA,cACff,IAAA,MAAGqC,IAAI,CAAC,GAAG,CAAAtB,QAAA,CAAC,SAAO,CAAG,CAAC,CACpB,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,QAAS,CAAAuB,GAAGA,CAAA,CAAG,CACb,mBACEpC,KAAA,QAAAa,QAAA,eACEf,IAAA,CAACoC,MAAM,GAAE,CAAC,cACVpC,IAAA,QAAKc,KAAK,CAAC,MAAM,CAAAC,QAAA,cACff,IAAA,CAAC6B,UAAU,GAAE,CAAC,CACX,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAS,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}